#!/usr/bin/env ruby

require_relative '../config/environment'

## Player & Token Selection ##
def select_players
    puts "Select number of players: 0, 1, or 2"
    input = gets.strip.to_i
    if input == 0
      @player_a = Players::Computer
      @player_b = Players::Computer
    elsif input == 1
      @a = Players::Human
      @b = Players::Computer
      select_token
    elsif input == 2
      @a = Players::Human
      @b = Players::Human
      select_token
    else
      select_players
    end
  end

def select_token
  puts "Which player should go first (X), 1 or 2?"
  input = gets.strip.to_i
  if input == 1
    @player_a = @a
    @player_b = @b
  elsif input == 2
    @player_a = @b
    @player_b = @a
  else
    select_token
  end
end

## Game Run ##
puts "Welcome to Tic Tac Toe!"
select_players

current_game = Game.new(player_1 = @player_a.new("X"), player_2 = @player_b.new("O"), board = Board.new)

until current_game.won?
  current_game.play
end

